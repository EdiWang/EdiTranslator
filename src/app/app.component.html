<header class="mb-4">
  <h1>Edi's Translator</h1>
  <small>Preview</small>
</header>

<main class="container">
  <div class="row">
    <div class="col">
      <form class="form-source" [formGroup]="sourceForm" (ngSubmit)="onTranslate()">
        <section class="translator-text-container">
          <div>
            <fluent-select title="Source language" formControlName="sourceLanguage" ngDefaultControl>
              <fluent-option *ngFor="let c of languageList" [value]="c.Code">{{ c.Name }}</fluent-option>
            </fluent-select>

            <span>ðŸ‘‰</span>

            <fluent-select title="Target language" formControlName="targetLanguage" ngDefaultControl>
              <fluent-option *ngFor="let c of languageList" [value]="c.Code">{{ c.Name }}</fluent-option>
            </fluent-select>
          </div>
          <div>
            <fluent-text-area formControlName="sourceText" name="sourceText" ngDefaultControl placeholder="Enter text"
              maxlength="5000" rows="10" spellcheck="false"></fluent-text-area>
          </div>
          <div class="char-count">
            {{ sourceForm.get('sourceText')?.value?.length ?? 0 }} character(s)
          </div>
        </section>
        <div class="mt-2">
          <fluent-button type="submit" appearance="accent" class="me-2" [disabled]="!sourceForm.valid">Translate</fluent-button>
          <fluent-button type="button" appearance="light" (click)="clear()">Clear</fluent-button>
        </div>
      </form>
    </div>
    <div class="col">
      <section class="translator-text-container">
        <div class="translated-text-container">
          <div>
            <fluent-text-area [(ngModel)]="translatedText" name="translatedText" ngDefaultControl
              placeholder="Translation" rows="10" spellcheck="false" readonly></fluent-text-area>
          </div>
        </div>
        <div class="char-count">
          {{ translatedText.length }} character(s)
        </div>
      </section>
      <div class="mt-2">
        <fluent-button type="button" appearance="accent" (click)="copyTranslatedText()" [disabled]="translatedText.length == 0">Copy</fluent-button>
      </div>
    </div>
  </div>
</main>